<!-- Tool: Percentage Calculator | Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ© -->
<div class="tool-card">
  <div class="tool-header">
    <div class="tool-icon">ðŸ”¢</div>
    <div>
      <h1 class="tool-title">{{tool.name}}</h1>
      <p class="tool-description">{{tool.description}}</p>
    </div>
  </div>
  
  <!-- Calculator 1: What is X% of Y? -->
  <div class="calc-row-inline">
    <span class="calc-label">{{tool.whatIsPercent}}</span>
    <input type="number" class="calc-input-sm" id="calc1-percent" placeholder="10" oninput="calcPercentOf()">
    <span class="calc-label">{{tool.percentOf}}</span>
    <input type="number" class="calc-input-sm" id="calc1-number" placeholder="200" oninput="calcPercentOf()">
    <span class="calc-label">=</span>
    <span class="calc-result" id="result1">â€”</span>
  </div>
  
  <!-- Calculator 2: X is what % of Y? -->
  <div class="calc-row-inline">
    <input type="number" class="calc-input-sm" id="calc2-part" placeholder="25" oninput="calcWhatPercent()">
    <span class="calc-label">{{tool.isWhatPercent}}</span>
    <input type="number" class="calc-input-sm" id="calc2-whole" placeholder="200" oninput="calcWhatPercent()">
    <span class="calc-label">=</span>
    <span class="calc-result" id="result2">â€”</span>
  </div>
  
  <!-- Calculator 3: Percentage Change -->
  <div class="calc-row-inline">
    <span class="calc-label">{{tool.percentChange}} {{tool.from}}</span>
    <input type="number" class="calc-input-sm" id="calc3-from" placeholder="100" oninput="calcPercentChange()">
    <span class="calc-label">{{tool.to}}</span>
    <input type="number" class="calc-input-sm" id="calc3-to" placeholder="150" oninput="calcPercentChange()">
    <span class="calc-label">=</span>
    <span class="calc-result" id="result3">â€”</span>
  </div>
  
  <!-- Calculator 4: Discount -->
  <div class="calc-row-inline">
    <span class="calc-label">{{tool.originalPrice}}</span>
    <input type="number" class="calc-input-sm" id="calc4-price" placeholder="500" oninput="calcDiscount()">
    <span class="calc-label">- {{tool.discount}}</span>
    <input type="number" class="calc-input-sm" id="calc4-discount" placeholder="20" oninput="calcDiscount()">
    <span class="calc-label">% =</span>
    <span class="calc-result" id="result4">â€”</span>
  </div>
  
  <!-- Calculator 5: Add percentage to number -->
  <div class="calc-row-inline">
    <input type="number" class="calc-input-sm" id="calc5-number" placeholder="200" oninput="calcAddPercent()">
    <span class="calc-label">+</span>
    <input type="number" class="calc-input-sm" id="calc5-percent" placeholder="15" oninput="calcAddPercent()">
    <span class="calc-label">% =</span>
    <span class="calc-result" id="result5">â€”</span>
  </div>
  
  <!-- Calculator 6: Original price before discount -->
  <div class="calc-row-inline">
    <span class="calc-label">{{tool.afterDiscount}}</span>
    <input type="number" class="calc-input-sm" id="calc6-discount" placeholder="20" oninput="calcOriginalPrice()">
    <span class="calc-label">% {{tool.priceBecame}}</span>
    <input type="number" class="calc-input-sm" id="calc6-final" placeholder="80" oninput="calcOriginalPrice()">
    <span class="calc-label">{{tool.originalWas}}</span>
    <span class="calc-result" id="result6">â€”</span>
  </div>
  
  <!-- Calculator 7: Profit/Loss percentage -->
  <div class="calc-row-inline">
    <span class="calc-label">{{tool.buyPrice}}</span>
    <input type="number" class="calc-input-sm" id="calc7-buy" placeholder="100" oninput="calcProfitLoss()">
    <span class="calc-label">{{tool.sellPrice}}</span>
    <input type="number" class="calc-input-sm" id="calc7-sell" placeholder="130" oninput="calcProfitLoss()">
    <span class="calc-label">=</span>
    <span class="calc-result" id="result7">â€”</span>
  </div>
</div>

<!-- How to Use -->
<div class="how-to-use">
  <h3>ðŸ“– {{ui.howToUse}}</h3>
  <p>{{tool.howToUseText}}</p>
</div>

<style>
.calc-row-inline {
  display: flex;
  align-items: baseline;
  gap: 8px;
  flex-wrap: wrap;
  padding: 20px 24px;
  background: var(--bg-tertiary);
  border-radius: var(--border-radius-lg);
  margin-bottom: 16px;
  font-size: 1.15rem;
  line-height: 2.2;
}

.calc-label {
  color: var(--text-primary);
}

.calc-input-sm {
  width: 90px;
  padding: 4px 8px;
  background: transparent;
  border: none;
  border-bottom: 2px solid var(--accent-primary);
  border-radius: 0;
  color: var(--accent-primary);
  font-size: 1.15rem;
  font-weight: 600;
  font-family: inherit;
  text-align: center;
  transition: all var(--transition-fast);
}

.calc-input-sm:focus {
  outline: none;
  border-bottom-color: var(--accent-secondary);
  background: rgba(99, 102, 241, 0.05);
}

.calc-input-sm::placeholder {
  color: var(--text-muted);
  font-weight: 400;
}

.calc-result {
  min-width: 70px;
  padding: 4px 12px;
  background: var(--accent-gradient);
  border-radius: var(--border-radius);
  color: white;
  font-size: 1.15rem;
  font-weight: 700;
  text-align: center;
  transition: all var(--transition-fast);
}

.calc-result.increase {
  background: linear-gradient(135deg, #22c55e, #16a34a);
}

.calc-result.decrease {
  background: linear-gradient(135deg, #ef4444, #dc2626);
}

@media (max-width: 768px) {
  .calc-row-inline {
    justify-content: center;
    font-size: 1rem;
  }
  
  .calc-input-sm {
    width: 70px;
    font-size: 1rem;
  }
  
  .calc-result {
    font-size: 1rem;
  }
}
</style>

<script>
// Calculator 1: What is X% of Y?
function calcPercentOf() {
  const percent = parseFloat(document.getElementById('calc1-percent').value);
  const number = parseFloat(document.getElementById('calc1-number').value);
  const resultEl = document.getElementById('result1');
  
  if (!isNaN(percent) && !isNaN(number)) {
    const result = (percent / 100) * number;
    resultEl.textContent = App.formatNumber(result);
  } else {
    resultEl.textContent = 'â€”';
  }
}

// Calculator 2: X is what % of Y?
function calcWhatPercent() {
  const part = parseFloat(document.getElementById('calc2-part').value);
  const whole = parseFloat(document.getElementById('calc2-whole').value);
  const resultEl = document.getElementById('result2');
  
  if (!isNaN(part) && !isNaN(whole) && whole !== 0) {
    const result = (part / whole) * 100;
    resultEl.textContent = App.formatNumber(result) + '%';
  } else {
    resultEl.textContent = 'â€”';
  }
}

// Calculator 3: Percentage Change
function calcPercentChange() {
  const from = parseFloat(document.getElementById('calc3-from').value);
  const to = parseFloat(document.getElementById('calc3-to').value);
  const resultEl = document.getElementById('result3');
  
  if (!isNaN(from) && !isNaN(to) && from !== 0) {
    const change = ((to - from) / Math.abs(from)) * 100;
    const isIncrease = change >= 0;
    
    resultEl.textContent = (isIncrease ? '+' : '') + App.formatNumber(change) + '%';
    resultEl.className = 'calc-result ' + (isIncrease ? 'increase' : 'decrease');
  } else {
    resultEl.textContent = 'â€”';
    resultEl.className = 'calc-result';
  }
}

// Calculator 4: Discount
function calcDiscount() {
  const price = parseFloat(document.getElementById('calc4-price').value);
  const discount = parseFloat(document.getElementById('calc4-discount').value);
  const resultEl = document.getElementById('result4');
  
  if (!isNaN(price) && !isNaN(discount)) {
    const finalPrice = price - (price * discount / 100);
    resultEl.textContent = App.formatNumber(finalPrice);
  } else {
    resultEl.textContent = 'â€”';
  }
}

// Calculator 5: Add percentage to number
function calcAddPercent() {
  const number = parseFloat(document.getElementById('calc5-number').value);
  const percent = parseFloat(document.getElementById('calc5-percent').value);
  const resultEl = document.getElementById('result5');
  
  if (!isNaN(number) && !isNaN(percent)) {
    const result = number + (number * percent / 100);
    resultEl.textContent = App.formatNumber(result);
  } else {
    resultEl.textContent = 'â€”';
  }
}

// Calculator 6: Original price before discount
function calcOriginalPrice() {
  const discount = parseFloat(document.getElementById('calc6-discount').value);
  const finalPrice = parseFloat(document.getElementById('calc6-final').value);
  const resultEl = document.getElementById('result6');
  
  if (!isNaN(discount) && !isNaN(finalPrice) && discount !== 100) {
    const original = finalPrice / (1 - discount / 100);
    resultEl.textContent = App.formatNumber(original);
  } else {
    resultEl.textContent = 'â€”';
  }
}

// Calculator 7: Profit/Loss percentage
function calcProfitLoss() {
  const buyPrice = parseFloat(document.getElementById('calc7-buy').value);
  const sellPrice = parseFloat(document.getElementById('calc7-sell').value);
  const resultEl = document.getElementById('result7');
  
  if (!isNaN(buyPrice) && !isNaN(sellPrice) && buyPrice !== 0) {
    const profitLoss = ((sellPrice - buyPrice) / buyPrice) * 100;
    const isProfit = profitLoss >= 0;
    
    resultEl.textContent = (isProfit ? '+' : '') + App.formatNumber(profitLoss) + '%';
    resultEl.className = 'calc-result ' + (isProfit ? 'increase' : 'decrease');
  } else {
    resultEl.textContent = 'â€”';
    resultEl.className = 'calc-result';
  }
}
</script>
