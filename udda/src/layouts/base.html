<!DOCTYPE html>
<html lang="{{lang}}" dir="{{dir}}">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- SEO Meta Tags -->
  <title>{{title}}</title>
  <meta name="description" content="{{metaDescription}}">
  <meta name="keywords" content="{{keywords}}">
  <meta name="author" content="Udda">
  <meta name="robots" content="index, follow">
  
  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="{{title}}">
  <meta property="og:description" content="{{metaDescription}}">
  <meta property="og:url" content="{{canonicalUrl}}">
  <meta property="og:site_name" content="{{siteName}}">
  <meta property="og:locale" content="{{locale}}">
  <meta property="og:image" content="{{baseUrl}}/assets/images/og-image.png">
  
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="{{title}}">
  <meta name="twitter:description" content="{{metaDescription}}">
  <meta name="twitter:image" content="{{baseUrl}}/assets/images/og-image.png">
  
  <!-- Language Alternates -->
  <link rel="alternate" hreflang="ar" href="{{baseUrl}}/ar{{pagePath}}">
  <link rel="alternate" hreflang="en" href="{{baseUrl}}/en{{pagePath}}">
  <link rel="alternate" hreflang="x-default" href="{{baseUrl}}/ar{{pagePath}}">
  
  <!-- Canonical -->
  <link rel="canonical" href="{{canonicalUrl}}">
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="{{assetsPath}}/images/favicon.svg">
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Styles -->
  <link rel="stylesheet" href="{{assetsPath}}/css/main.css">
  
  <!-- Schema.org -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "{{toolName}}",
    "description": "{{metaDescription}}",
    "url": "{{canonicalUrl}}",
    "applicationCategory": "UtilityApplication",
    "operatingSystem": "Any",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "inLanguage": ["ar", "en"],
    "isAccessibleForFree": true
  }
  </script>
</head>
<body data-tool-id="{{toolId}}">
  <div class="app-container">
    
    <!-- Sidebar Overlay (Mobile) -->
    <div class="sidebar-overlay"></div>
    
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <a href="{{langPath}}/" class="logo">
          <div class="logo-icon">üîß</div>
          <span class="logo-text sidebar-text">{{siteName}}</span>
        </a>
      </div>
      
      <div class="sidebar-search">
        <div class="search-input-wrapper">
          <input 
            type="text" 
            class="search-input" 
            placeholder="{{ui.search}}"
            aria-label="{{ui.search}}"
          >
          <svg class="search-icon" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21 21-4.35-4.35"></path>
          </svg>
        </div>
      </div>
      
      <nav class="sidebar-nav">
        <!-- Home -->
        <a href="{{langPath}}/" class="nav-item {{homeActiveClass}}">
          <span class="nav-item-icon">üè†</span>
          <span class="sidebar-text">{{ui.home}}</span>
        </a>
        
        <!-- Categories -->
        {{#each categories}}
        <div class="nav-section {{#if this.open}}open{{/if}}">
          <div class="nav-section-title">
            <span>
              <span class="nav-section-icon">{{this.icon}}</span>
              <span class="sidebar-text">{{this.name}}</span>
            </span>
            <svg class="nav-section-arrow sidebar-text" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path d="m6 9 6 6 6-6"></path>
            </svg>
          </div>
          <div class="nav-section-items">
            {{#each this.tools}}
            <a href="{{this.url}}" class="nav-item {{#if this.active}}active{{/if}}">
              <span class="nav-item-icon">{{this.icon}}</span>
              <span class="sidebar-text">{{this.name}}</span>
            </a>
            {{/each}}
          </div>
        </div>
        {{/each}}
      </nav>
      
      <div class="sidebar-footer">
        <button class="sidebar-toggle" aria-label="Toggle sidebar">
          <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path d="M11 19l-7-7 7-7m8 14l-7-7 7-7"></path>
          </svg>
          <span class="sidebar-text">{{ui.sidebar}}</span>
        </button>
      </div>
    </aside>
    
    <!-- Main Content -->
    <div class="main-content">
      <!-- Header -->
      <header class="main-header">
        <button class="header-btn mobile-menu-btn" aria-label="Menu">
          <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
        </button>
        
        <nav class="header-breadcrumb">
          <a href="{{langPath}}/" class="breadcrumb-link">{{ui.home}}</a>
          {{#if categoryName}}
          <span class="breadcrumb-separator">‚Ä∫</span>
          <a href="{{langPath}}/category/{{categoryId}}" class="breadcrumb-link">{{categoryName}}</a>
          {{/if}}
          {{#if toolName}}
          <span class="breadcrumb-separator">‚Ä∫</span>
          <span class="breadcrumb-current">{{toolName}}</span>
          {{/if}}
        </nav>
        
        <div class="header-actions">
          <button class="header-btn" data-favorite-btn aria-label="{{ui.addFavorite}}">
            ‚òÜ
          </button>
          <button class="header-btn" onclick="App.shareUrl('{{toolName}}', window.location.href)" aria-label="{{ui.share}}">
            <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path>
              <polyline points="16 6 12 2 8 6"></polyline>
              <line x1="12" y1="2" x2="12" y2="15"></line>
            </svg>
          </button>
          <button class="header-btn" data-open-settings aria-label="{{ui.settings}}">
            <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <circle cx="12" cy="12" r="3"></circle>
              <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
            </svg>
          </button>
        </div>
      </header>
      
      <!-- Page Content -->
      <main class="page-content">
        {{content}}
      </main>
      
      <!-- Footer -->
      <footer class="main-footer">
        <p>{{ui.madeWith}} | {{ui.copyright}} ¬© {{year}} {{siteName}}</p>
        <p>
          <a href="{{langPath}}/about" class="footer-link">{{ui.aboutUs}}</a>
          ‚Ä¢
          <a href="{{langPath}}/suggest" class="footer-link">{{ui.suggestTool}}</a>
          ‚Ä¢
          <a href="https://github.com" target="_blank" class="footer-link">GitHub</a>
        </p>
      </footer>
    </div>
  </div>
  
  <!-- Settings Panel -->
  <div class="settings-overlay"></div>
  <div class="settings-panel">
    <div class="settings-header">
      <h2 class="settings-title">{{ui.settings}}</h2>
      <button class="settings-close" aria-label="Close">
        <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path d="M18 6 6 18M6 6l12 12"></path>
        </svg>
      </button>
    </div>
    <div class="settings-content">
      <!-- Language -->
      <div class="settings-section">
        <div class="settings-section-title">{{ui.language}}</div>
        <div class="settings-option">
          <button class="settings-btn {{arabicActiveClass}}" data-lang-btn="ar">
            ÿßŸÑÿπÿ±ÿ®Ÿäÿ©
          </button>
          <button class="settings-btn {{englishActiveClass}}" data-lang-btn="en">
            English
          </button>
        </div>
      </div>
      
      <!-- Theme -->
      <div class="settings-section">
        <div class="settings-section-title">{{ui.theme}}</div>
        <div class="settings-option">
          <button class="settings-btn" data-theme-btn="light">
            ‚òÄÔ∏è {{ui.themeLight}}
          </button>
          <button class="settings-btn" data-theme-btn="dark">
            üåô {{ui.themeDark}}
          </button>
          <button class="settings-btn active" data-theme-btn="auto">
            üíª {{ui.themeAuto}}
          </button>
        </div>
      </div>
      
      <!-- Favorites -->
      <div class="settings-section">
        <div class="settings-section-title">{{ui.favorites}}</div>
        <div class="favorites-list">
          <!-- Populated by JS -->
          <p class="text-muted" style="color: var(--text-muted); font-size: 0.9rem;">
            {{noFavoritesText}}
          </p>
        </div>
      </div>
      
      <!-- Recent -->
      <div class="settings-section">
        <div class="settings-section-title">{{ui.recent}}</div>
        <div class="recent-tools-list">
          <!-- Populated by JS -->
          <p class="text-muted" style="color: var(--text-muted); font-size: 0.9rem;">
            {{noRecentText}}
          </p>
        </div>
      </div>
      
      <!-- Clear Data -->
      <div class="settings-section">
        <button class="settings-btn" data-clear-data style="width: 100%; justify-content: center; color: var(--error);">
          üóëÔ∏è {{ui.clearData}}
        </button>
      </div>
    </div>
  </div>
  
  <!-- Toast -->
  <div class="toast"></div>
  
  <!-- Scripts -->
  <script src="{{assetsPath}}/js/app.js"></script>
  {{#if toolScript}}
  <script>
    {{toolScript}}
  </script>
  {{/if}}
</body>
</html>
